<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>

    <style>form.form-horizontal label {
            color: black !important;
            /* size: 1px !important; */
            font-size: 16px;
            margin-left: -13px;
            padding-bottom: 10px;
        }</style>
    <% include cores/header.ejs %>

    <link href='http://fonts.googleapis.com/css?family=Titillium+Web:400,300,600' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/signup.css">

    <style>
        table {
            border-collapse: collapse;
            width: 100%;
        }

        table tr{
            border-bottom: 1px solid grey;
        }

        th, td {
            text-align: left;
            padding: 8px;
        }

        tr:nth-child(even){background-color: #f2f2f2}

        th {
            background-color: #da5d5d;
            color: white;
        }
    </style>
    <div class="container">
        <h2>Edit/Delete Products..</h2>


        <table>
            <tr>

                <th>Sno</th>
                <th>products_name</th>
                <th>products_price</th>
                <th>gender</th>
                <th>Edit</th>
                <th> Delete</th>

            </tr>

            <%  for(var i = 0; i < product.length;  i++) { %>
            <tr id="insertprod<%=  product[i].products_id %>">
                <input type="hidden"  value="<%= product[i].products_id %>"  id="products_id<%= product[i].products_id %>"/>
                <input type="hidden"  value="<%= product[i].products_name %>"  id="products_name<%= product[i].products_id %>"/>
                <input type="hidden"  value="<%= product[i].products_catagory %>"  id="products_catagory<%= product[i].products_id %>"/>
                <input type="hidden"  value="<%= product[i].products_size %>"  id="products_size<%= product[i].products_id %>"/>
                <input type="hidden"  value="<%= product[i].products_colour %>"  id="products_colour<%= product[i].products_id %>"/>
                <input type="hidden"  value="<%= product[i].products_price %>"  id="products_price<%= product[i].products_id %>"/>
                <input type="hidden"  value="<%= product[i].products_featured %>"  id="products_featured<%= product[i].products_id %>"/>
                <input type="hidden"  value="<%= product[i].products_discount %>"  id="products_discount<%= product[i].products_id %>"/>
                <input type="hidden"  value="<%= product[i].products_vendor %>"  id="products_vendor<%= product[i].products_id %>"/>
                <input type="hidden"  value="<%= product[i].products_status %>"  id="products_status<%= product[i].products_id %>"/>
                <input type="hidden"  value="<%= product[i].products_createdon %>"  id="products_createdon<%= product[i].products_id %>"/>
                <input type="hidden"  value="<%= product[i].products_updatedon %>"  id="products_updatedon<%= product[i].products_id %>"/>
                <input type="hidden"  value="<%= product[i].products_rating %>"  id="products_rating<%= product[i].products_id %>"/>
                <input type="hidden"  value="<%= product[i].user_id %>"  id="user_id<%= product[i].products_id %>"/>
                <input type="hidden"  value="<%= product[i].gender %>"  id="gender<%= product[i].products_id %>"/>


                <td> <%= product[i].products_id %>  </td>
                <td><%=  product[i].products_name %> </td>
                <td><%=  product[i].products_price %> </td>
                <td><%=  product[i].gender %> </td>
                <td> <button id="" name="" class="btn btn-primary" onclick="show_form(<%=  product[i].products_id %>)">Edit</button></td>
                <td>  <button id="" name="" class="btn btn-danger" onclick="insertprod(<%=  product[i].products_id %>) ">Delete</button></td>

            </tr>


            <% } %>
        </table>
        
        <div style="display: none;" id="hiddenform" >

            <form class="form-horizontal">

                <button id="button2id" name="button2id" class="btn btn-primary" onclick="hide_form()">Cancel</button>


                    <!-- Text input-->
                    <div class="form-group">

                        <!-- Text input-->
                <div class="form-group">
                    <label class="col-md-4 control-label" for="textinput">Product Name</label>
                    <div class="col-md-4">
                        <input id="products_name" name="textinput" type="text" placeholder="Enter product name" class="form-control input-md">
                        <input id="products_id" type="hidden" value="">

                    </div>
                </div>
                <!-- Text input-->
                <div class="form-group">
                    <label class="col-md-4 control-label" for="textinput">Product Category</label>
                    <div class="col-md-4">
                        <select id="products_catagory">
                            <option value="1">Casual Shirts</option>
                            <option value="2">Jeans</option>
                            <option value="3">Shoes</option>
                            <option value="4">Jewellery</option>
                            <option value="5">Bags</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-4 control-label" for="textinput">Product Size</label>
                    <div class="col-md-4">
                        <select id="products_size">
                            <option value="1">S</option>
                            <option value="2">M</option>
                            <option value="3">L</option>
                            <option value="4">XL</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-4 control-label" for="textinput">Product Color</label>
                    <div class="col-md-4">
                        <select id="products_colour">
                            <option>red</option>
                            <option>orange</option>
                            <option>Grey</option>
                            <option>Pink</option>
                            <option>Purple</option>
                            <option>Blue</option>
                            <option>Black</option>
                        </select>
                    </div>
                </div>


                <!-- Text input-->
                <div class="form-group">
                    <label class="col-md-4 control-label" for="textinput">Product Price</label>
                    <div class="col-md-4">
                        <input id="products_price" name="textinput" type="text" placeholder="produc price" class="form-control input-md">
                        <!--<span class="help-block">help</span>-->
                    </div>
                </div>
                <!-- Text input-->
                <div class="form-group">
                    <label class="col-md-4 control-label" for="textinput">Gender</label>
                    <div class="col-md-4">
                        <select id="gender">
                            <option value="1">Male</option>
                            <option value="2" selected="selected">Female</option>
                            <option value="3">Both</option>
                        </select>

                    </div>
                </div>
                <!-- Text input-->
                <div class="form-group">
                    <label class="col-md-4 control-label" for="textinput">Product vendor</label>
                    <div class="col-md-4">

                        <select id="product_vendor">
                            <option value="nike">Nike</option>
                            <option value="H&M">H&M</option>
                            <option value="NewYorker">NewYorker</option>
                            <option value="C&A">C&A</option>
                            <option value="Pumma">Pumma</option>
                            <option value="Polo">Polo</option>
                            <option value="Zara">Zara</option>
                        </select>
                    </div>
                </div>

                <div class="form-group" style="display: none">
                    <label class="col-md-4 control-label" for="selectmultiple">Size</label>
                    <div class="col-md-4">
                        <select id="product_size" name="selectmultiple" class="form-control" multiple="multiple">
                            <option value="1">S</option>
                            <option value="2">M</option>
                            <option value="3">L</option>
                            <option value="4">XL</option>
                        </select>
                    </div>
                </div>

                <!-- Select Multiple -->
                <div class="form-group"  style="display: none">
                    <label class="col-md-4 control-label" for="selectmultiple">Select Colours</label>
                    <div class="col-md-4">
                        <select id="product_colours" name="selectmultiple" class="form-control" multiple="multiple">
                            <option value="1">Black</option>
                            <option value="2">Red</option>
                            <option value="3">Green</option>
                            <option value="4">Blue</option>
                            <option value="5">Pink</option>
                            <option value="6">Grey</option>
                        </select>
                    </div>
                </div>

                <!-- File Button -->
                <div class="form-group">
                    <label class="col-md-4 control-label" for="filebutton">Image 1</label>
                    <div class="col-md-4">
                        <input id="filebutton1" name="filebutton" class="input-file" type="file">
                    </div>
                </div>

                <!-- File Button -->
                <div class="form-group">
                    <label class="col-md-4 control-label" for="filebutton">Image 2</label>
                    <div class="col-md-4">
                        <input id="filebutton2" name="filebutton" class="input-file" type="file">
                    </div>
                </div>

                <!-- File Button -->
                <div class="form-group">
                    <label class="col-md-4 control-label" for="filebutton">Image 3</label>
                    <div class="col-md-4">
                        <input id="filebutton3" name="filebutton" class="input-file" type="file">
                    </div>
                </div>

                <!-- File Button -->
                <div class="form-group">
                    <label class="col-md-4 control-label" for="filebutton">Image 4</label>
                    <div class="col-md-4">
                        <input id="filebutton4" name="filebutton" class="input-file" type="file">
                    </div>
                </div>

                <!-- File Button -->
                <div class="form-group">
                    <label class="col-md-4 control-label" for="filebutton">Image 5</label>
                    <div class="col-md-4">
                        <input id="filebutton5" name="filebutton" class="input-file" type="file">
                    </div>
                </div>

                <!-- Button (Double) -->
                <div class="form-group">
                    <div class="col-md-8">
                        <button id="" name="" class="btn btn-success" onclick="updprod()">save</button>
                        <script>

                                function updprod()
                                {

                                    var pid = document.getElementById("products_id").value;
                                    var products_name = document.getElementById("products_name").value;
                                    var products_catagory = document.getElementById("products_catagory").value;
                                    var products_size = document.getElementById("products_size").value;
                                    var products_colour = document.getElementById("products_colour").value;
                                    var products_price = document.getElementById("products_price").value;
                                    var products_vendor = document.getElementById("product_vendor").value;
                                    var gender  = document.getElementById("gender").value;
                                    var filebutton1  = document.getElementById("filebutton1").value;
                                    var filebutton2  = document.getElementById("filebutton2").value;
                                    var filebutton3  = document.getElementById("filebutton3").value;
                                    var filebutton4  = document.getElementById("filebutton4").value;
                                    var filebutton5  = document.getElementById("filebutton5").value;


                                    var urlplus =
                                        "pid="      +  pid +
                                        "&products_name="      +  products_name +
                                        "&products_catagory=" +  products_catagory +
                                        "&products_size="     +  products_size +
                                        "&products_colour="   +  products_colour +
                                        "&products_price="    +  products_price +
                                        "&products_vendor="   +  products_vendor +
                                        "&gender="              +  gender ;


                                    xmlhttp = new XMLHttpRequest();
                                    xmlhttp.open("GET","http://localhost:8009/insert?"+urlplus, true);
                                    xmlhttp.onreadystatechange=function(){
                                        if (xmlhttp.readyState==4 && xmlhttp.status==200){
                                            string=xmlhttp.responseText;

                                            alert('new row insertedid is '+string);
                                        }
                                    }
                                    xmlhttp.send();
                                }
                            </script>

                        </div>
                    </div>

                </fieldset>
            </form>
        </div>
        <script>

            function insertprod(pid)
            {
              if(confirm("Do you really want to DELETE this?"))
                {
                    document.getElementById("insertprod"+pid).style.display = "none";

                    var urlplus ="prod_id="      +  pid ;
                    xmlhttp = new XMLHttpRequest();
                    xmlhttp.open("GET","http://localhost:8007/insert?"+urlplus, true);
                    xmlhttp.onreadystatechange=function(){
                    if (xmlhttp.readyState==4 && xmlhttp.status==200){
                        string=xmlhttp.responseText;

                        alert('new row insertedid is '+string);
                    }
                }
                xmlhttp.send();
            }
              else { return false;}
            }
            function show_form(pid)
            {

                var  products_id = document.getElementById("products_id"+pid).value;
                var  products_name = document.getElementById("products_name"+pid).value;
                var  products_catagory = document.getElementById("products_catagory"+pid).value;
                var  products_size = document.getElementById("products_size"+pid).value;
                var  products_colour = document.getElementById("products_colour"+pid).value;
                var  products_price = document.getElementById("products_price"+pid).value;
                var  products_featured = document.getElementById("products_featured"+pid).value;
                var  products_discount = document.getElementById("products_discount"+pid).value;
                var  products_vendor = document.getElementById("products_vendor"+pid).value;
                var  products_status = document.getElementById("products_status"+pid).value;
                var  products_createdon = document.getElementById("products_createdon"+pid).value;
                var  products_updatedon = document.getElementById("products_updatedon"+pid).value;
                var  products_rating = document.getElementById("products_rating"+pid).value;
//                var  user_id = document.getElementById("user_id"+pid).value;
                var  gender = document.getElementById("gender"+pid).value;

                document.getElementById("products_id").value=products_id;
                document.getElementById("products_name").value=products_name;
                document.getElementById("products_catagory").value=products_catagory;
                document.getElementById("products_size").value=products_size;
                document.getElementById("products_colour").value=products_colour;
                document.getElementById("products_price").value=products_price;
                document.getElementById("product_vendor").value=products_vendor;////asdasdasda
//                document.getElementById("user_id").value = user_id;
                document.getElementById("gender").value = gender;


                document.getElementById("hiddenform").style.display="block";
                document.getElementById('hiddenform').scrollIntoView();
            } function hide_form()
            {
                document.getElementById("hiddenform").style.display="none";
            }
        </script>
        <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>


    </div>

    </div>
    </div>

    </div>
    </div>

<% include cores/footer.ejs %>